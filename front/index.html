<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Call App</title>
  </head>
  <body>
    <div id="app">
      <div class="container">
        <header>
          <h1>ðŸ“¹ Video Call App</h1>
          <p class="subtitle">Simple peer-to-peer video calling</p>
        </header>

        <div class="connection-panel">
          <div class="input-group">
            <label for="roomInput">Room ID:</label>
            <input 
              type="text" 
              id="roomInput" 
              placeholder="Enter room name (e.g., room123)"
              autocomplete="off"
            />
          </div>
          
          <div class="button-group">
            <button id="joinBtn" class="btn btn-primary">Join Room</button>
            <button id="leaveBtn" class="btn btn-secondary" disabled>Leave Room</button>
          </div>

          <div class="status">
            <span id="statusText">Not connected</span>
          </div>
        </div>

        <div class="video-container">
          <div class="video-wrapper">
            <video id="localVideo" autoplay muted playsinline></video>
            <div class="video-label">You</div>
          </div>
          
          <div class="video-wrapper">
            <video id="remoteVideo" autoplay playsinline></video>
            <div class="video-label">Remote User</div>
            <div id="remoteVideoPlaceholder" class="video-placeholder">
              <div class="placeholder-content">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <p>Waiting for remote user...</p>
              </div>
            </div>
          </div>
        </div>

        <div class="controls">
          <button id="muteBtn" class="control-btn" disabled>
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
            <span>Mute</span>
          </button>
          
          <button id="videoBtn" class="control-btn" disabled>
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="23 7 16 12 23 17 23 7"></polygon>
              <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
            </svg>
            <span>Stop Video</span>
          </button>
        </div>

        <div class="info-panel">
          <details>
            <summary>Connection Info</summary>
            <div id="connectionInfo" class="connection-info">
              <p><strong>Client ID:</strong> <span id="clientIdDisplay">-</span></p>
              <p><strong>Room:</strong> <span id="roomDisplay">-</span></p>
              <p><strong>Connection State:</strong> <span id="connectionState">-</span></p>
            </div>
          </details>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
